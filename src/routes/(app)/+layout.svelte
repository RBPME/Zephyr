<script>
  import '../../app.css';
  import { page } from "$app/stores";
  import { goto } from "$app/navigation";
  import {
    Sidebar,
    SidebarBrand,
    SidebarGroup,
    SidebarItem,
    SidebarWrapper,
    BottomNav,
    BottomNavItem,
    DarkMode
  } from "flowbite-svelte";
  import 'carbon-components-svelte/css/white.css';
  $: activeUrl = $page.url.pathname;

  let site = {
    name: 'Zephyr',
    href: '/Alarm',
    img: '/favicon.png'
  };


  let btnClass = 'text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-xl p-2 md:mt-64 fixed top-4 right-4 md:top-auto md:right-auto md:bottom-4 md:left-4';
</script>

<Sidebar class="hidden md:inline">
  <SidebarWrapper class="fixed w-64 h-screen top-0">
    <SidebarGroup>
      <SidebarBrand {site} />
      <SidebarItem
        label="Alarmer"
        href="/Alarm"
        active={activeUrl === "/Alarm"}
      >
        <svelte:fragment slot="icon">
          <svg
            class="w-6 h-6 dark:fill-slate-200"
            xmlns="http://www.w3.org/2000/svg"
            height="48"
            viewBox="0 96 960 960"
            width="48"
            ><path
              d="M479 974q-74 0-139.5-28t-114-76.5q-48.5-48.5-77-114T120 615.267q0-74.733 28.5-140T225.5 361q48.5-49 114-77T479 256q74 0 139.5 28T733 361q49 49 77 114.267t28 140Q838 690 810 755.5t-77 114Q684 918 618.5 946T479 974Zm0-357Zm121 161 42-42-130-130V416h-60v214l148 148ZM214 189l42 42L92 389l-42-42 164-158Zm530 0 164 158-42 42-164-158 42-42ZM479.043 914Q604 914 691 826.957t87-212Q778 490 690.957 403t-212-87Q354 316 267 403.043t-87 212Q180 740 267.043 827t212 87Z"
            /></svg
          >
        </svelte:fragment>
      </SidebarItem>

      <SidebarItem
        label="Enheder"
        href="/Enheder"
        active={activeUrl === "/Enheder"}
      >
        <svelte:fragment slot="icon">
          <svg
            class="w-6 h-6 dark:fill-slate-200"
            xmlns="http://www.w3.org/2000/svg"
            height="48"
            viewBox="0 96 960 960"
            width="48"
            ><path
              d="M234 1016q-47.5 0-80.75-33.25T120 902q0-47.5 33.25-80.75T234 788q14 0 24.5 2.5T280 798l85-106q-19-23-29-52.5t-5-61.5l-121-41q-15 25-39.5 39T114 590q-47.5 0-80.75-33.25T0 476q0-47.5 33.25-80.75T114 362q47.5 0 80.75 33.25T228 476v4l122 42q18-32 43.5-49t56.5-24V320q-39-11-61.5-43T366 210q0-47.5 33.25-80.75T480 96q47.5 0 80.75 33.25T594 210q0 35-23 67t-61 43v129q31 7 57 24t44 49l121-42v-4q0-47.5 33.25-80.75T846 362q47.5 0 80.75 33.25T960 476q0 47.5-33.25 80.75T846 590q-32 0-57-14t-39-39l-121 41q5 32-4.5 61.5T595 692l85 106q11-5 21.5-7.5t24.062-2.5Q774 788 807 821.25T840 902q0 47.5-33.25 80.75T726 1016q-47.5 0-80.75-33.25T612 902q0-20 5.5-36t15.5-31l-85-106q-32.127 17-68.563 17Q443 746 411 729l-84 107q10 15 15.5 30.5T348 902q0 47.5-33.25 80.75T234 1016ZM114.035 530Q137 530 152.5 514.465q15.5-15.535 15.5-38.5T152.465 437.5q-15.535-15.5-38.5-15.5T75.5 437.535Q60 453.07 60 476.035T75.535 514.5q15.535 15.5 38.5 15.5Zm120 426Q257 956 272.5 940.465q15.5-15.535 15.5-38.5T272.465 863.5q-15.535-15.5-38.5-15.5T195.5 863.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5Zm246-692Q503 264 518.5 248.465q15.5-15.535 15.5-38.5T518.465 171.5q-15.535-15.5-38.5-15.5T441.5 171.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5Zm.465 422q37.5 0 63.5-26.5t26-64q0-37.5-26.1-63.5T480 506q-37 0-63.5 26.1T390 596q0 37 26.5 63.5t64 26.5Zm245.535 270Q749 956 764.5 940.465q15.5-15.535 15.5-38.5T764.465 863.5q-15.535-15.5-38.5-15.5T687.5 863.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5Zm120-426Q869 530 884.5 514.465q15.5-15.535 15.5-38.5T884.465 437.5q-15.535-15.5-38.5-15.5T807.5 437.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5ZM480 210ZM114 476Zm366 120Zm366-120ZM234 902Zm492 0Z"
            /></svg
          >
        </svelte:fragment>
      </SidebarItem>

      <SidebarItem
        label="Indstillinger"
        href="/Indstillinger"
        active={activeUrl === "/Indstillinger"}
      >
        <svelte:fragment slot="icon">
          <svg
            class="w-6 h-6 dark:fill-slate-200"
            xmlns="http://www.w3.org/2000/svg"
            height="48"
            viewBox="0 96 960 960"
            width="48"
            ><path
              d="m388 976-20-126q-19-7-40-19t-37-25l-118 54-93-164 108-79q-2-9-2.5-20.5T185 576q0-9 .5-20.5T188 535L80 456l93-164 118 54q16-13 37-25t40-18l20-127h184l20 126q19 7 40.5 18.5T669 346l118-54 93 164-108 77q2 10 2.5 21.5t.5 21.5q0 10-.5 21t-2.5 21l108 78-93 164-118-54q-16 13-36.5 25.5T592 850l-20 126H388Zm92-270q54 0 92-38t38-92q0-54-38-92t-92-38q-54 0-92 38t-38 92q0 54 38 92t92 38Zm0-60q-29 0-49.5-20.5T410 576q0-29 20.5-49.5T480 506q29 0 49.5 20.5T550 576q0 29-20.5 49.5T480 646Zm0-70Zm-44 340h88l14-112q33-8 62.5-25t53.5-41l106 46 40-72-94-69q4-17 6.5-33.5T715 576q0-17-2-33.5t-7-33.5l94-69-40-72-106 46q-23-26-52-43.5T538 348l-14-112h-88l-14 112q-34 7-63.5 24T306 414l-106-46-40 72 94 69q-4 17-6.5 33.5T245 576q0 17 2.5 33.5T254 643l-94 69 40 72 106-46q24 24 53.5 41t62.5 25l14 112Z"
            /></svg
          >
        </svelte:fragment>
      </SidebarItem>

      <SidebarItem label="Log Ud" href="/Logout">
        <svelte:fragment slot="icon">
          <svg
            class="w-6 h-6 dark:fill-slate-200"
            xmlns="http://www.w3.org/2000/svg"
            height="48"
            viewBox="0 96 960 960"
            width="48"
            ><path
              d="M180 936q-24 0-42-18t-18-42V276q0-24 18-42t42-18h291v60H180v600h291v60H180Zm486-185-43-43 102-102H375v-60h348L621 444l43-43 176 176-174 174Z"
            /></svg
          >
        </svelte:fragment>
      </SidebarItem>
    </SidebarGroup>
  </SidebarWrapper>
</Sidebar>

<div class="md:hidden">
  <BottomNav position="fixed" innerDiv="grid-cols-4">
    <BottomNavItem btnName="Alarmer" on:click={() => goto("/")}>
      <svg
        class="w-6 h-6 dark:fill-slate-200"
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        viewBox="0 96 960 960"
        width="48"
        ><path
          d="M479 974q-74 0-139.5-28t-114-76.5q-48.5-48.5-77-114T120 615.267q0-74.733 28.5-140T225.5 361q48.5-49 114-77T479 256q74 0 139.5 28T733 361q49 49 77 114.267t28 140Q838 690 810 755.5t-77 114Q684 918 618.5 946T479 974Zm0-357Zm121 161 42-42-130-130V416h-60v214l148 148ZM214 189l42 42L92 389l-42-42 164-158Zm530 0 164 158-42 42-164-158 42-42ZM479.043 914Q604 914 691 826.957t87-212Q778 490 690.957 403t-212-87Q354 316 267 403.043t-87 212Q180 740 267.043 827t212 87Z"
        /></svg
      >
    </BottomNavItem>
    <BottomNavItem btnName="Enheder" on:click={() => goto("/Enheder")}>
      <svg
        class="w-6 h-6 dark:fill-slate-200"
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        viewBox="0 96 960 960"
        width="48"
        ><path
          d="M234 1016q-47.5 0-80.75-33.25T120 902q0-47.5 33.25-80.75T234 788q14 0 24.5 2.5T280 798l85-106q-19-23-29-52.5t-5-61.5l-121-41q-15 25-39.5 39T114 590q-47.5 0-80.75-33.25T0 476q0-47.5 33.25-80.75T114 362q47.5 0 80.75 33.25T228 476v4l122 42q18-32 43.5-49t56.5-24V320q-39-11-61.5-43T366 210q0-47.5 33.25-80.75T480 96q47.5 0 80.75 33.25T594 210q0 35-23 67t-61 43v129q31 7 57 24t44 49l121-42v-4q0-47.5 33.25-80.75T846 362q47.5 0 80.75 33.25T960 476q0 47.5-33.25 80.75T846 590q-32 0-57-14t-39-39l-121 41q5 32-4.5 61.5T595 692l85 106q11-5 21.5-7.5t24.062-2.5Q774 788 807 821.25T840 902q0 47.5-33.25 80.75T726 1016q-47.5 0-80.75-33.25T612 902q0-20 5.5-36t15.5-31l-85-106q-32.127 17-68.563 17Q443 746 411 729l-84 107q10 15 15.5 30.5T348 902q0 47.5-33.25 80.75T234 1016ZM114.035 530Q137 530 152.5 514.465q15.5-15.535 15.5-38.5T152.465 437.5q-15.535-15.5-38.5-15.5T75.5 437.535Q60 453.07 60 476.035T75.535 514.5q15.535 15.5 38.5 15.5Zm120 426Q257 956 272.5 940.465q15.5-15.535 15.5-38.5T272.465 863.5q-15.535-15.5-38.5-15.5T195.5 863.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5Zm246-692Q503 264 518.5 248.465q15.5-15.535 15.5-38.5T518.465 171.5q-15.535-15.5-38.5-15.5T441.5 171.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5Zm.465 422q37.5 0 63.5-26.5t26-64q0-37.5-26.1-63.5T480 506q-37 0-63.5 26.1T390 596q0 37 26.5 63.5t64 26.5Zm245.535 270Q749 956 764.5 940.465q15.5-15.535 15.5-38.5T764.465 863.5q-15.535-15.5-38.5-15.5T687.5 863.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5Zm120-426Q869 530 884.5 514.465q15.5-15.535 15.5-38.5T884.465 437.5q-15.535-15.5-38.5-15.5T807.5 437.535q-15.5 15.535-15.5 38.5t15.535 38.465q15.535 15.5 38.5 15.5ZM480 210ZM114 476Zm366 120Zm366-120ZM234 902Zm492 0Z"
        /></svg
      >
    </BottomNavItem>
    <BottomNavItem btnName="Placeholder">
      <svg
        class="w-6 h-6 dark:fill-slate-200"
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        viewBox="0 96 960 960"
        width="48"
        ><path
          d="M180 936q-25 0-42.5-17.5T120 876v-76l160-142v278H180Zm140 0V776h320v160H320Zm360 0V608L509 456l121-107 190 169q10 9 15 20.5t5 24.5v313q0 25-17.5 42.5T780 936H680ZM120 746V563q0-13 5-25t15-20l300-266q8-8 18.5-11.5T480 237q11 0 21.5 3.5T520 252l80 71-480 423Z"
        /></svg
      >
    </BottomNavItem>
    <BottomNavItem
      btnName="Indstillinger"
      on:click={() => goto("/Indstillinger")}
    >
      <svg
        class="w-6 h-6 dark:fill-slate-200"
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        viewBox="0 96 960 960"
        width="48"
        ><path
          d="m388 976-20-126q-19-7-40-19t-37-25l-118 54-93-164 108-79q-2-9-2.5-20.5T185 576q0-9 .5-20.5T188 535L80 456l93-164 118 54q16-13 37-25t40-18l20-127h184l20 126q19 7 40.5 18.5T669 346l118-54 93 164-108 77q2 10 2.5 21.5t.5 21.5q0 10-.5 21t-2.5 21l108 78-93 164-118-54q-16 13-36.5 25.5T592 850l-20 126H388Zm92-270q54 0 92-38t38-92q0-54-38-92t-92-38q-54 0-92 38t-38 92q0 54 38 92t92 38Zm0-60q-29 0-49.5-20.5T410 576q0-29 20.5-49.5T480 506q29 0 49.5 20.5T550 576q0 29-20.5 49.5T480 646Zm0-70Zm-44 340h88l14-112q33-8 62.5-25t53.5-41l106 46 40-72-94-69q4-17 6.5-33.5T715 576q0-17-2-33.5t-7-33.5l94-69-40-72-106 46q-23-26-52-43.5T538 348l-14-112h-88l-14 112q-34 7-63.5 24T306 414l-106-46-40 72 94 69q-4 17-6.5 33.5T245 576q0 17 2.5 33.5T254 643l-94 69 40 72 106-46q24 24 53.5 41t62.5 25l14 112Z"
        /></svg
      >
    </BottomNavItem>
  </BottomNav>
</div>
<div class="md:ml-64 w-auto pt-4">
  <slot />
</div>
<DarkMode {btnClass}/>